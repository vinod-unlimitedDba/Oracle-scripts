
User particular info
========================
set linesize 2000 verify off
Set page 1000
col username  format a15
col account_status  format a16
col default_tablespace  format a15
col temporary_tablespace  format a15
col profile  format a15
col initial_rsrc_consumer_group for a23
SELECT username,account_status,lock_date,expiry_date,default_tablespace,temporary_tablespace,created,profile,initial_rsrc_consumer_group,editions_enabled,
authentication_type from   dba_users where  username like upper('%&username%') ORDER BY username;


2====> SELECT USERNAME, ACCOUNT_STATUS ,CREATED, profile FROM DBA_USERS WHERE USERNAME ='&A';

Show all tablespaces used by a user
========================================
select tablespace_name, ceil(sum(bytes) / 1024 / 1024/1024) "GB"
from dba_extents where owner like '&user_id' group by tablespace_name
order by tablespace_name
/


GET ALL USERS  NOT DEFAULTS
==============================

Set lines 500 pages 1000
Col  username for a35
SELECT username   FROM dba_users  WHERE TRUNC(created) > (SELECT MIN(TRUNC(created)) FROM dba_users);

 SET HEADING OFF
spool /export/home/oracle/dropuser.sql

    SELECT 'DROP USER '||USERNAME||' CASCADE ;' FROM DBA_USERS
       WHERE TRUNC(created) > (SELECT MIN(TRUNC(created)) FROM dba_users);
/

what roles, system privilege, table pri, on which cloumn assigned for the user
==========================================================================

set line 200 pages 200
column grantee for a7
column priv for a25
column tabnm for a15
column colnm for a15
column owner for a7
set wrap on
select 'ROLE' typ, grantee grantee, granted_role priv, admin_option ad, '--' tabnm, '--' colnm, '--' owner
from dba_role_privs
where grantee='&XNTRG'
union
select 'SYSTEM' typ, grantee grantee, privilege priv, admin_option ad, '--' tabnm, '--' colnm,'--' owner
from dba_sys_privs
where grantee='&XNTRG'
union
select 'TABLE' typ, grantee grantee, privilege priv, grantable ad, table_name tabnm, '--' colnm, owner owner
from dba_tab_privs
where grantee='&XNTRG'
union
select 'COLUMN' typ, grantee grantee, privilege priv, grantable ad, table_name tabnm, column_name colnm, owner owner
from dba_col_privs
where grantee='&XNTRG'
order by 1;


what roles assigned to users
================================
select granted_role from DBA_ROLE_PRIVS where grantee in (SELECT usr.username FROM sys.dba_users usr WHERE usr.created > (SELECT created FROM sys.v_$database));


Dynamic scripts to get what privs given for all roles 
===========================================================
set long 20000 longchunksize 20000 pagesize 0 linesize 1000 feedback off verify off trimspool on

spool file_name.sql
select 'grant '||privilege||' on '||owner||'.'||table_name||' to '||grantee||';' from DBA_TAB_PRIVS where grantee in (select granted_role from DBA_ROLE_PRIVS where grantee in (SELECT usr.username FROM sys.dba_users usr WHERE usr.created > (SELECT created FROM sys.v_$database)));
spool off
